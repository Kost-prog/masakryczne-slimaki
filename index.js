import{A as L,a as y}from"./assets/vendor-BFiJAGA_.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))m(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&m(u)}).observe(document,{childList:!0,subtree:!0});function d(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function m(e){if(e.ep)return;e.ep=!0;const o=d(e);fetch(e.href,o)}})();document.addEventListener("DOMContentLoaded",function(){new L(".accordion_list",{duration:300,showMultiple:!1,openOnInit:[0],elementClass:"accordion_item",triggerClass:"accordion_header",panelClass:"answer",activeClass:"open",collapse:!1}),document.querySelectorAll(".accordion_btn").forEach(t=>{t.addEventListener("click",d=>{d.stopPropagation(),t.closest(".accordion_header").click()})})});const c=document.querySelector(".wt-backdrop"),n=document.querySelector(".wt_form"),g=document.querySelector(".wt-close-btn"),a=n.elements.email,f=document.querySelector(".valid-icon"),p=document.querySelector(".error-message"),v="feedback-form-state",r={email:"",comment:""};n.addEventListener("input",b);function b(s){r[s.target.name]=s.target.value.trim(),localStorage.setItem(v,JSON.stringify(r))}const i=JSON.parse(localStorage.getItem(v));i&&(n.elements.email.value=i.email||"",n.elements.comment.value=i.comment||"",r.email=i.email||"",r.comment=i.comment||"");a.addEventListener("input",w);function w(){const s=a.value.trim();/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(s)?(f.classList.remove("invisible"),p.classList.add("invisible"),a.classList.remove("color-error")):(p.classList.remove("invisible"),f.classList.add("invisible"),a.classList.add("color-error"))}n.addEventListener("submit",h);async function h(s){s.preventDefault();try{const t=await y.post("https://portfolio-js.b.goit.study/api/requests",r);E(),n.reset(),localStorage.removeItem(v),r.email="",r.comment="",f.classList.add("invisible"),p.classList.add("invisible"),a.classList.remove("color-error");return}catch(t){t.request.status===400?alert("Будь ласка заповніть форму"):alert(`Error ${t.request.status}`)}}function E(){c.classList.add("is-open"),window.addEventListener("keydown",l),document.body.classList.add("no-scroll")}function l(){c.classList.remove("is-open"),window.removeEventListener("keydown",l),document.body.classList.remove("no-scroll")}g.addEventListener("click",l);c.addEventListener("click",S);function S(s){s.target===c&&l()}
//# sourceMappingURL=index.js.map
